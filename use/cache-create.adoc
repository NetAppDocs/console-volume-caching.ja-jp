---
sidebar: sidebar 
permalink: use/cache-create.html 
keywords: volume caching, Volume caching 
summary: ボリューム キャッシュは、リモートの場所に永続的な書き込み可能なボリュームを提供します。ボリューム キャッシュを使用すると、データへのアクセスを高速化したり、頻繁にアクセスされるボリュームのトラフィックを軽減したりできます。キャッシュ ボリュームは、特にクライアントが同じデータに繰り返しアクセスする必要がある場合など、読み取り集中型のワークロードに最適です。 
---
= ボリュームキャッシュを使用してキャッシュを作成する
:hardbreaks:
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ボリューム キャッシュは、リモートの場所に永続的な書き込み可能なボリュームを提供します。ボリューム キャッシュを使用すると、データへのアクセスを高速化したり、頻繁にアクセスされるボリュームのトラフィックを軽減したりできます。キャッシュされたボリュームは、特にクライアントが同じデータに繰り返しアクセスする必要がある場合など、読み取り集中型のワークロードに最適です。ソースシステムの 1 つ以上のソースボリュームをキャッシュソースとして使用して、 Amazon FSx for ONTAP、 Cloud Volumes ONTAP、オンプレミスONTAP間のボリュームキャッシュを作成できます。次に、キャッシュ ボリュームのストレージ仮想マシンを選択します。

キャッシュされたボリュームは、ソース ボリュームと同じクラスター上にも、異なるクラスター上にも配置できます。キャッシュするために選択するボリュームは同じストレージ VM に属している必要があり、ストレージ VM は同じプロトコルを使用する必要があります。


TIP: ボリュームがキャッシュに適さない場合は、選択できないようにグレー表示されます。

キャッシュされたボリュームのサイズを、ソース ボリュームのサイズのパーセンテージとして入力できます。


NOTE: キャッシュされたボリュームによって使用される IPSpace は、ソース ストレージ VM によって使用される IPSpace によって異なります。

キャッシュされたボリューム名は、 `pass:macros[_cache]`元のボリューム名に追加されます。



== ボリュームキャッシュのランディングページからの手順

. NetAppコンソールにログインします。
. 左側のナビゲーションから *モビリティ* > *ボリューム キャッシュ* を選択します。
+
ボリューム キャッシュのダッシュボード ページが表示されます。ボリューム キャッシュ オプションを初めて使用する場合、キャッシュ情報を追加する必要があります。その後、代わりにダッシュボードが表示され、キャッシュに関するデータが表示されます。

+

NOTE: NetAppコンソール エージェントをまだ設定していない場合は、[キャッシュの追加] オプションではなく、[コンソール エージェントの追加] オプションが表示されます。この場合、まずコンソール エージェントを設定する必要があります。参照 https://docs.netapp.com/us-en/cloud-manager-setup-admin/task-quick-start-standard-mode.html["NetAppコンソールのクイックスタート"^]。

+
image:landing-page.png["ボリュームキャッシュのランディングページ"]

. *キャッシュを追加*を選択します。
. キャッシュ データ ページで、システム ソース キャッシュとターゲット キャッシュを選択し、*キャッシュ ウィザードの開始* を選択します。
. 「キャッシュの構成」ページで、キャッシュするボリュームを選択します。
+

NOTE: 最大50巻まで選択できます。

. VM の詳細またはボリューム サイズをさらに変更するには、ページを下にスクロールします。
. キャッシュ ボリュームのサイズを、ソース ボリュームのサイズのパーセンテージとして入力します。
+

TIP: 経験則としては、キャッシュ ボリュームのサイズはソース ボリュームのサイズの約 15% にする必要があります。

. *キャッシュ アクセス* ボックスをオンにして、NFS エクスポート ポリシー ルールと SMB/CIFS 共有構成をソース ボリュームからターゲット キャッシュ ボリュームに複製します。
+
その後、ソース ボリューム内の NFS エクスポート ポリシー ルールと SMB/CIFS 共有がキャッシュ ボリュームに複製されます。キャッシュ ストレージ VM で SMB/CIFS プロトコルが有効になっていない場合、SMB/CIFS 共有はレプリケートされません。

. 必要に応じて、キャッシュ名のプレフィックスを入力します。
+
接尾辞 `pass:macros[_cache]`次の形式で名前に追加されます: `<user-specified prefix>_<source volume name>_cache`

. *キャッシュを作成*を選択します。
+
新しいキャッシュがキャッシュ リストに表示されます。キャッシュボリューム名が表示されます `pass:macros[_cache]`ソースボリューム名の接尾辞として。

. 操作の進行状況を確認するには、 NetAppコンソール メニューから [管理] > [監査] を選択します。




== NetAppコンソールシステムページからの手順

. NetAppコンソール システム ページから、作業環境を選択します。
. ソース システムを選択し、宛先にドラッグします。image:drag-n-drop.png["ドラッグアンドドロップ機能でキャッシュを作成"]
. *ボリューム キャッシュ*を選択します。
+
これにより、ソースから宛先へのキャッシュ ボリュームが作成されます。

. 右側のペインの「キャッシュ オプション」ボックスで、「*追加*」を選択します。
. キャッシュ データ ページで、キャッシュするシステムを選択し、*キャッシュ ウィザードの開始* を選択します。image:cache-data.png["キャッシュデータポップアップ"]
. 「キャッシュの構成」ページで、キャッシュするボリュームを選択します。
+

NOTE: 最大50巻まで選択できます。

. VM の詳細またはボリューム サイズをさらに変更するには、ページを下にスクロールします。
. キャッシュ ボリュームのサイズを、ソース ボリュームのサイズのパーセンテージとして入力します。
+

TIP: 経験則としては、キャッシュ ボリュームのサイズはソース ボリュームのサイズの約 15% にする必要があります。

+
image:create-cache.png["キャッシュを追加するためのウィンドウ"]

. *キャッシュ アクセス* ボックスをオンにして、NFS エクスポート ポリシー ルールと SMB/CIFS 共有構成をソース ボリュームからターゲット キャッシュ ボリュームに複製します。
+
その後、ソース ボリューム内の NFS エクスポート ポリシー ルールと SMB/CIFS 共有がキャッシュ ボリュームに複製されます。キャッシュ ストレージ VM で SMB/CIFS プロトコルが有効になっていない場合、SMB/CIFS 共有はレプリケートされません。

. 必要に応じて、キャッシュ名のプレフィックスを入力します。
+
接尾辞 `pass:macros[_cache]`次の形式で名前に追加されます: `<user-specified prefix>_<source volume name>_cache`

. *キャッシュを作成*を選択します。
+
新しいキャッシュがキャッシュ リストに表示されます。キャッシュボリューム名が表示されます `pass:macros[_cache]`ソースボリューム名の接尾辞として。

. 操作の進行状況を確認するには、 NetAppコンソール メニューから [管理] > [監査] を選択します。

